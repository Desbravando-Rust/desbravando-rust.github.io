name: ğŸ¤– Blog Agent â€” Gerador de Posts

on:
  # â‘  Disparo manual pela UI do GitHub
  workflow_dispatch:

  # â‘¡ Agendado toda segunda-feira Ã s 08h (horÃ¡rio de BrasÃ­lia = 11h UTC)
  schedule:
    - cron: "0 11 * * 3"

# PermissÃµes necessÃ¡rias para criar branch, arquivo e PR
permissions:
  contents: write
  pull-requests: write

jobs:
  generate-post:
    runs-on: ubuntu-latest

    steps:
      - name: ğŸ“¥ Checkout do repositÃ³rio
        uses: actions/checkout@v4

      - name: ğŸ Configurar Python 3.11
        uses: actions/setup-python@v5
        with:
          python-version: "3.11"
          cache: "pip"

      - name: ğŸ“¦ Instalar dependÃªncias
        run: pip install -r scripts/requirements.txt

      - name: ğŸ¤– Executar Blog Agent
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}   # automÃ¡tico
          HF_TOKEN: ${{ secrets.HF_TOKEN }}            # o que vocÃª criou
          GITHUB_REPOSITORY: ${{ github.repository }}
        run: python scripts/blog_agent.py
